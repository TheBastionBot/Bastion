const a187_0x465f=['../models/Role','getDocument','apply','value','roles','default','exec','Listener','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','findOne','../utils/emojis','partial','has','Pin\x20reaction\x20removed\x20by\x20','name','includes','member','map','messageReactionRemove','unpin','findById','message','channel','test','user','exports','handleReactionPinning','constructor','LISTENER_MODE','fetch','permissionsFor','guild','handleReactionRoles','_id','MANAGE_MESSAGES','@bastion/tesseract','remove','animated','emoji','reactionPinning','parseEmoji'];(function(_0x32e2ab,_0x465fd6){const _0x3f119c=function(_0x4d9f4e){while(--_0x4d9f4e){_0x32e2ab['push'](_0x32e2ab['shift']());}},_0x394d19=function(){const _0x19beea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2d062d,_0x30de33,_0x505508,_0x2376c0){_0x2376c0=_0x2376c0||{};let _0x5d1805=_0x30de33+'='+_0x505508,_0x5f3c0c=0x0;for(let _0x49cf4a=0x0,_0x336323=_0x2d062d['length'];_0x49cf4a<_0x336323;_0x49cf4a++){const _0x1bef94=_0x2d062d[_0x49cf4a];_0x5d1805+=';\x20'+_0x1bef94;const _0x44a3ae=_0x2d062d[_0x1bef94];_0x2d062d['push'](_0x44a3ae),_0x336323=_0x2d062d['length'],_0x44a3ae!==!![]&&(_0x5d1805+='='+_0x44a3ae);}_0x2376c0['cookie']=_0x5d1805;},'removeCookie':function(){return'dev';},'getCookie':function(_0xaf4edc,_0x1319bf){_0xaf4edc=_0xaf4edc||function(_0x1a2e89){return _0x1a2e89;};const _0x272fe6=_0xaf4edc(new RegExp('(?:^|;\x20)'+_0x1319bf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xd37beb=function(_0x4ce182,_0x3d9bf4){_0x4ce182(++_0x3d9bf4);};return _0xd37beb(_0x3f119c,_0x465fd6),_0x272fe6?decodeURIComponent(_0x272fe6[0x1]):undefined;}},_0x5ce469=function(){const _0x397a4e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x397a4e['test'](_0x19beea['removeCookie']['toString']());};_0x19beea['updateCookie']=_0x5ce469;let _0x28f2fb='';const _0x25dabe=_0x19beea['updateCookie']();if(!_0x25dabe)_0x19beea['setCookie'](['*'],'counter',0x1);else _0x25dabe?_0x28f2fb=_0x19beea['getCookie'](null,'counter'):_0x19beea['removeCookie']();};_0x394d19();}(a187_0x465f,0xf5));const a187_0x3f11=function(_0x32e2ab,_0x465fd6){_0x32e2ab=_0x32e2ab-0x0;let _0x3f119c=a187_0x465f[_0x32e2ab];return _0x3f119c;};const _0xdf9bb0=a187_0x3f11,a187_0x19beea=function(){let _0x28f2fb=!![];return function(_0x25dabe,_0x2d062d){const _0x30de33=_0x28f2fb?function(){const _0x5c38d7=a187_0x3f11;if(_0x2d062d){const _0x505508=_0x2d062d[_0x5c38d7('0x3')](_0x25dabe,arguments);return _0x2d062d=null,_0x505508;}}:function(){};return _0x28f2fb=![],_0x30de33;};}(),a187_0x4d9f4e=a187_0x19beea(this,function(){const _0x2376c0=function(){const _0x4c1955=a187_0x3f11,_0x5d1805=_0x2376c0[_0x4c1955('0x1c')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x4c1955('0x1c')](_0x4c1955('0x9'));return!_0x5d1805[_0x4c1955('0x18')](a187_0x4d9f4e);};return _0x2376c0();});a187_0x4d9f4e();'use strict';const tesseract_1=require(_0xdf9bb0('0x24')),ReactionRoleGroup_1=require('../models/ReactionRoleGroup'),Role_1=require(_0xdf9bb0('0x1')),emojis=require(_0xdf9bb0('0xb'));module[_0xdf9bb0('0x1a')]=class MessageReactionRemoveListener extends tesseract_1[_0xdf9bb0('0x8')]{constructor(){const _0x34b243=_0xdf9bb0;super(_0x34b243('0x13'),{'mode':tesseract_1['Constants'][_0x34b243('0x1d')]['ON']}),this[_0x34b243('0x1b')]=async(_0x5f3c0c,_0x49cf4a)=>{const _0xfc8769=_0x34b243;if(!['ðŸ“Œ','ðŸ“'][_0xfc8769('0x10')](_0x5f3c0c[_0xfc8769('0x27')][_0xfc8769('0xf')]))return;if(!_0x5f3c0c[_0xfc8769('0x16')][_0xfc8769('0x17')][_0xfc8769('0x1f')](_0x49cf4a)[_0xfc8769('0xd')](_0xfc8769('0x23')))return;await _0x5f3c0c[_0xfc8769('0x16')][_0xfc8769('0x14')]({'reason':_0xfc8769('0xe')+_0x49cf4a['user']?_0x49cf4a[_0xfc8769('0x19')]['tag']:_0x49cf4a['id']});},this[_0x34b243('0x21')]=async(_0x336323,_0x1bef94)=>{const _0x330b07=_0x34b243,_0x44a3ae=await ReactionRoleGroup_1[_0x330b07('0x6')][_0x330b07('0x15')](_0x336323['message']['id']);if(!_0x44a3ae)return;const _0xaf4edc=_0x336323[_0x330b07('0x27')]['id']?'<'+(_0x336323['emoji'][_0x330b07('0x26')]?'a':'')+':'+_0x336323['emoji'][_0x330b07('0xf')]+':'+_0x336323[_0x330b07('0x27')]['id']+'>':_0x336323[_0x330b07('0x27')][_0x330b07('0xf')],_0x1319bf=emojis[_0x330b07('0x0')](_0xaf4edc);if(_0x1319bf){const _0x272fe6=await Role_1['default'][_0x330b07('0xa')]({'$or':_0x44a3ae['roles'][_0x330b07('0x12')](_0xd37beb=>({'_id':_0xd37beb})),'guild':_0x336323[_0x330b07('0x16')][_0x330b07('0x20')]['id'],'emoji':_0x1319bf[_0x330b07('0x4')]});if(!_0x272fe6)return;await _0x1bef94[_0x330b07('0x5')][_0x330b07('0x25')](_0x272fe6[_0x330b07('0x22')],'Removed\x20via\x20Reaction\x20Roles');}},this[_0x34b243('0x7')]=async(_0x1a2e89,_0x4ce182)=>{const _0x492a12=_0x34b243;_0x1a2e89[_0x492a12('0xc')]&&(_0x1a2e89=await _0x1a2e89[_0x492a12('0x1e')]());_0x1a2e89['message'][_0x492a12('0xc')]&&(_0x1a2e89[_0x492a12('0x16')]=await _0x1a2e89[_0x492a12('0x16')][_0x492a12('0x1e')]());if(!_0x1a2e89['message'][_0x492a12('0x20')])return;const _0x3d9bf4=_0x1a2e89['message'][_0x492a12('0x20')][_0x492a12('0x11')](_0x4ce182);this[_0x492a12('0x21')](_0x1a2e89,_0x3d9bf4)['catch'](()=>{});const _0x397a4e=await _0x1a2e89['message'][_0x492a12('0x20')][_0x492a12('0x2')]();_0x397a4e[_0x492a12('0x28')]&&this[_0x492a12('0x1b')](_0x1a2e89,_0x3d9bf4)['catch'](()=>{});};}};