const a179_0x6ba0=['message','has','tag','parseEmoji','default','../utils/emojis','Constants','LISTENER_MODE','permissionsFor','user','map','messageReactionRemove','Pin\x20reaction\x20removed\x20by\x20','roles','remove','guild','handleReactionPinning','findById','@bastion/tesseract','MANAGE_MESSAGES','../models/ReactionRoleGroup','includes','findOne','Removed\x20via\x20Reaction\x20Roles','name','emoji','catch','unpin','constructor','handleReactionRoles','partial','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getDocument','fetch'];(function(_0x4f587c,_0x6ba053){const _0x2d2e75=function(_0x1b815b){while(--_0x1b815b){_0x4f587c['push'](_0x4f587c['shift']());}},_0x2614f9=function(){const _0x31d508={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x18c7af,_0x3c4c76,_0x55cbf0,_0x1afa8a){_0x1afa8a=_0x1afa8a||{};let _0x5446cb=_0x3c4c76+'='+_0x55cbf0,_0x4ac7cd=0x0;for(let _0x4a7673=0x0,_0x25993b=_0x18c7af['length'];_0x4a7673<_0x25993b;_0x4a7673++){const _0x1eddf0=_0x18c7af[_0x4a7673];_0x5446cb+=';\x20'+_0x1eddf0;const _0x671d08=_0x18c7af[_0x1eddf0];_0x18c7af['push'](_0x671d08),_0x25993b=_0x18c7af['length'],_0x671d08!==!![]&&(_0x5446cb+='='+_0x671d08);}_0x1afa8a['cookie']=_0x5446cb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x103534,_0xe9093d){_0x103534=_0x103534||function(_0x24642a){return _0x24642a;};const _0x288666=_0x103534(new RegExp('(?:^|;\x20)'+_0xe9093d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x419bf0=function(_0x522a1d,_0x590777){_0x522a1d(++_0x590777);};return _0x419bf0(_0x2d2e75,_0x6ba053),_0x288666?decodeURIComponent(_0x288666[0x1]):undefined;}},_0x4fbe95=function(){const _0x57b886=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x57b886['test'](_0x31d508['removeCookie']['toString']());};_0x31d508['updateCookie']=_0x4fbe95;let _0x4875fd='';const _0x66ac03=_0x31d508['updateCookie']();if(!_0x66ac03)_0x31d508['setCookie'](['*'],'counter',0x1);else _0x66ac03?_0x4875fd=_0x31d508['getCookie'](null,'counter'):_0x31d508['removeCookie']();};_0x2614f9();}(a179_0x6ba0,0x1e5));const a179_0x2d2e=function(_0x4f587c,_0x6ba053){_0x4f587c=_0x4f587c-0x0;let _0x2d2e75=a179_0x6ba0[_0x4f587c];return _0x2d2e75;};const _0xd95f43=a179_0x2d2e,a179_0x31d508=function(){let _0x4875fd=!![];return function(_0x66ac03,_0x18c7af){const _0x3c4c76=_0x4875fd?function(){if(_0x18c7af){const _0x55cbf0=_0x18c7af['apply'](_0x66ac03,arguments);return _0x18c7af=null,_0x55cbf0;}}:function(){};return _0x4875fd=![],_0x3c4c76;};}(),a179_0x1b815b=a179_0x31d508(this,function(){const _0x1afa8a=function(){const _0x440799=a179_0x2d2e,_0x5446cb=_0x1afa8a[_0x440799('0x13')](_0x440799('0x16'))()[_0x440799('0x13')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5446cb['test'](a179_0x1b815b);};return _0x1afa8a();});a179_0x1b815b();'use strict';const tesseract_1=require(_0xd95f43('0x9')),ReactionRoleGroup_1=require(_0xd95f43('0xb')),Role_1=require('../models/Role'),emojis=require(_0xd95f43('0x1e'));module['exports']=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){const _0x23de35=_0xd95f43;super(_0x23de35('0x2'),{'mode':tesseract_1[_0x23de35('0x1f')][_0x23de35('0x20')]['ON']}),this[_0x23de35('0x7')]=async(_0x4ac7cd,_0x4a7673)=>{const _0xecbc7a=_0x23de35;if(!['ðŸ“Œ','ðŸ“'][_0xecbc7a('0xc')](_0x4ac7cd[_0xecbc7a('0x10')]['name']))return;if(!_0x4ac7cd[_0xecbc7a('0x19')]['channel'][_0xecbc7a('0x21')](_0x4a7673)[_0xecbc7a('0x1a')](_0xecbc7a('0xa')))return;await _0x4ac7cd[_0xecbc7a('0x19')][_0xecbc7a('0x12')]({'reason':_0xecbc7a('0x3')+_0x4a7673[_0xecbc7a('0x0')]?_0x4a7673[_0xecbc7a('0x0')][_0xecbc7a('0x1b')]:_0x4a7673['id']});},this[_0x23de35('0x14')]=async(_0x25993b,_0x1eddf0)=>{const _0x49b7cf=_0x23de35,_0x671d08=await ReactionRoleGroup_1[_0x49b7cf('0x1d')][_0x49b7cf('0x8')](_0x25993b[_0x49b7cf('0x19')]['id']);if(!_0x671d08)return;const _0x103534=_0x25993b[_0x49b7cf('0x10')]['id']?'<'+(_0x25993b[_0x49b7cf('0x10')]['animated']?'a':'')+':'+_0x25993b[_0x49b7cf('0x10')][_0x49b7cf('0xf')]+':'+_0x25993b[_0x49b7cf('0x10')]['id']+'>':_0x25993b['emoji'][_0x49b7cf('0xf')],_0xe9093d=emojis[_0x49b7cf('0x1c')](_0x103534);if(_0xe9093d){const _0x288666=await Role_1[_0x49b7cf('0x1d')][_0x49b7cf('0xd')]({'$or':_0x671d08[_0x49b7cf('0x4')][_0x49b7cf('0x1')](_0x419bf0=>({'_id':_0x419bf0})),'guild':_0x25993b[_0x49b7cf('0x19')][_0x49b7cf('0x6')]['id'],'emoji':_0xe9093d['value']});if(!_0x288666)return;await _0x1eddf0[_0x49b7cf('0x4')][_0x49b7cf('0x5')](_0x288666['_id'],_0x49b7cf('0xe'));}},this['exec']=async(_0x24642a,_0x522a1d)=>{const _0xaf6a2b=_0x23de35;_0x24642a[_0xaf6a2b('0x15')]&&(_0x24642a=await _0x24642a[_0xaf6a2b('0x18')]());_0x24642a[_0xaf6a2b('0x19')]['partial']&&(_0x24642a[_0xaf6a2b('0x19')]=await _0x24642a[_0xaf6a2b('0x19')][_0xaf6a2b('0x18')]());if(!_0x24642a['message'][_0xaf6a2b('0x6')])return;const _0x590777=_0x24642a[_0xaf6a2b('0x19')][_0xaf6a2b('0x6')]['member'](_0x522a1d);this['handleReactionRoles'](_0x24642a,_0x590777)[_0xaf6a2b('0x11')](()=>{});const _0x57b886=await _0x24642a[_0xaf6a2b('0x19')]['guild'][_0xaf6a2b('0x17')]();_0x57b886['reactionPinning']&&this['handleReactionPinning'](_0x24642a,_0x590777)[_0xaf6a2b('0x11')](()=>{});};}};