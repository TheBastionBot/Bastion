const a178_0x337b=['findById','reactionPinning','messageReactionRemove','guild','roles','exports','handleReactionPinning','../utils/emojis','exec','Pin\x20reaction\x20removed\x20by\x20','name','partial','Removed\x20via\x20Reaction\x20Roles','user','emoji','includes','@bastion/tesseract','findOne','message','animated','handleReactionRoles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','permissionsFor','has','fetch','channel','default','member','getDocument','unpin','_id','../models/ReactionRoleGroup','map','MANAGE_MESSAGES','remove'];(function(_0x14b63b,_0x337be9){const _0x226612=function(_0x5d79d4){while(--_0x5d79d4){_0x14b63b['push'](_0x14b63b['shift']());}},_0x5b918a=function(){const _0x28c859={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x58b84c,_0x2321f4,_0x5dcddc,_0x2bcf70){_0x2bcf70=_0x2bcf70||{};let _0x140907=_0x2321f4+'='+_0x5dcddc,_0x7df913=0x0;for(let _0x532074=0x0,_0x5b0dac=_0x58b84c['length'];_0x532074<_0x5b0dac;_0x532074++){const _0x315964=_0x58b84c[_0x532074];_0x140907+=';\x20'+_0x315964;const _0x48158a=_0x58b84c[_0x315964];_0x58b84c['push'](_0x48158a),_0x5b0dac=_0x58b84c['length'],_0x48158a!==!![]&&(_0x140907+='='+_0x48158a);}_0x2bcf70['cookie']=_0x140907;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5a3d8c,_0x42ebbc){_0x5a3d8c=_0x5a3d8c||function(_0x50a4e4){return _0x50a4e4;};const _0x1a6217=_0x5a3d8c(new RegExp('(?:^|;\x20)'+_0x42ebbc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1738ef=function(_0x4544a5,_0x1d4a3b){_0x4544a5(++_0x1d4a3b);};return _0x1738ef(_0x226612,_0x337be9),_0x1a6217?decodeURIComponent(_0x1a6217[0x1]):undefined;}},_0x99a8e4=function(){const _0x54f09e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x54f09e['test'](_0x28c859['removeCookie']['toString']());};_0x28c859['updateCookie']=_0x99a8e4;let _0x557075='';const _0x4d0ec2=_0x28c859['updateCookie']();if(!_0x4d0ec2)_0x28c859['setCookie'](['*'],'counter',0x1);else _0x4d0ec2?_0x557075=_0x28c859['getCookie'](null,'counter'):_0x28c859['removeCookie']();};_0x5b918a();}(a178_0x337b,0xdf));const a178_0x2266=function(_0x14b63b,_0x337be9){_0x14b63b=_0x14b63b-0x0;let _0x226612=a178_0x337b[_0x14b63b];return _0x226612;};const _0x9f03a9=a178_0x2266,a178_0x28c859=function(){let _0x557075=!![];return function(_0x4d0ec2,_0x58b84c){const _0x2321f4=_0x557075?function(){if(_0x58b84c){const _0x5dcddc=_0x58b84c['apply'](_0x4d0ec2,arguments);return _0x58b84c=null,_0x5dcddc;}}:function(){};return _0x557075=![],_0x2321f4;};}(),a178_0x5d79d4=a178_0x28c859(this,function(){const _0x2bcf70=function(){const _0x3591b1=a178_0x2266,_0x140907=_0x2bcf70['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x3591b1('0xf')](_0x3591b1('0xe'));return!_0x140907['test'](a178_0x5d79d4);};return _0x2bcf70();});a178_0x5d79d4();'use strict';const tesseract_1=require(_0x9f03a9('0x9')),ReactionRoleGroup_1=require(_0x9f03a9('0x19')),Role_1=require('../models/Role'),emojis=require(_0x9f03a9('0x0'));module[_0x9f03a9('0x22')]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){const _0x546d52=_0x9f03a9;super(_0x546d52('0x1f'),{'mode':tesseract_1['Constants']['LISTENER_MODE']['ON']}),this[_0x546d52('0x23')]=async(_0x7df913,_0x532074)=>{const _0x1ffd97=_0x546d52;if(!['ðŸ“Œ','ðŸ“'][_0x1ffd97('0x8')](_0x7df913[_0x1ffd97('0x7')][_0x1ffd97('0x3')]))return;if(!_0x7df913[_0x1ffd97('0xb')][_0x1ffd97('0x13')][_0x1ffd97('0x10')](_0x532074)[_0x1ffd97('0x11')](_0x1ffd97('0x1b')))return;await _0x7df913[_0x1ffd97('0xb')][_0x1ffd97('0x17')]({'reason':_0x1ffd97('0x2')+_0x532074[_0x1ffd97('0x6')]?_0x532074[_0x1ffd97('0x6')]['tag']:_0x532074['id']});},this[_0x546d52('0xd')]=async(_0x5b0dac,_0x315964)=>{const _0x205044=_0x546d52,_0x48158a=await ReactionRoleGroup_1[_0x205044('0x14')][_0x205044('0x1d')](_0x5b0dac[_0x205044('0xb')]['id']);if(!_0x48158a)return;const _0x5a3d8c=_0x5b0dac[_0x205044('0x7')]['id']?'<'+(_0x5b0dac[_0x205044('0x7')][_0x205044('0xc')]?'a':'')+':'+_0x5b0dac[_0x205044('0x7')][_0x205044('0x3')]+':'+_0x5b0dac['emoji']['id']+'>':_0x5b0dac['emoji'][_0x205044('0x3')],_0x42ebbc=emojis['parseEmoji'](_0x5a3d8c);if(_0x42ebbc){const _0x1a6217=await Role_1[_0x205044('0x14')][_0x205044('0xa')]({'$or':_0x48158a[_0x205044('0x21')][_0x205044('0x1a')](_0x1738ef=>({'_id':_0x1738ef})),'guild':_0x5b0dac[_0x205044('0xb')][_0x205044('0x20')]['id'],'emoji':_0x42ebbc['value']});if(!_0x1a6217)return;await _0x315964['roles'][_0x205044('0x1c')](_0x1a6217[_0x205044('0x18')],_0x205044('0x5'));}},this[_0x546d52('0x1')]=async(_0x50a4e4,_0x4544a5)=>{const _0x35eb40=_0x546d52;_0x50a4e4[_0x35eb40('0x4')]&&(_0x50a4e4=await _0x50a4e4[_0x35eb40('0x12')]());_0x50a4e4['message'][_0x35eb40('0x4')]&&(_0x50a4e4['message']=await _0x50a4e4[_0x35eb40('0xb')][_0x35eb40('0x12')]());if(!_0x50a4e4[_0x35eb40('0xb')][_0x35eb40('0x20')])return;const _0x1d4a3b=_0x50a4e4[_0x35eb40('0xb')]['guild'][_0x35eb40('0x15')](_0x4544a5);this[_0x35eb40('0xd')](_0x50a4e4,_0x1d4a3b)['catch'](()=>{});const _0x54f09e=await _0x50a4e4[_0x35eb40('0xb')]['guild'][_0x35eb40('0x16')]();_0x54f09e[_0x35eb40('0x1e')]&&this[_0x35eb40('0x23')](_0x50a4e4,_0x1d4a3b)['catch'](()=>{});};}};