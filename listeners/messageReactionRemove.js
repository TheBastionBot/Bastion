const a195_0x3151=['guild','partial','parseEmoji','message','@bastion/tesseract','default','fetch','Removed\x20via\x20Reaction\x20Roles','MANAGE_MESSAGES','value','emoji','tag','handleReactionRoles','member','unpin','../models/Role','findById','user','catch','animated','constructor','../utils/emojis','getDocument','exports','exec','return\x20/\x22\x20+\x20this\x20+\x20\x22/','remove','_id','findOne','includes','roles','Constants','has','map','Listener','messageReactionRemove','../models/ReactionRoleGroup','handleReactionPinning','name','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channel'];(function(_0x2c685c,_0x4da65b){const _0x31514f=function(_0xa5ed8a){while(--_0xa5ed8a){_0x2c685c['push'](_0x2c685c['shift']());}},_0x12dc8a=function(){const _0x1d94c7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x47cf07,_0x3f482d,_0x186144,_0x34ec01){_0x34ec01=_0x34ec01||{};let _0x2ffcc2=_0x3f482d+'='+_0x186144,_0x1f1ba0=0x0;for(let _0x369ccc=0x0,_0x201539=_0x47cf07['length'];_0x369ccc<_0x201539;_0x369ccc++){const _0x2d7e18=_0x47cf07[_0x369ccc];_0x2ffcc2+=';\x20'+_0x2d7e18;const _0x5c6f5f=_0x47cf07[_0x2d7e18];_0x47cf07['push'](_0x5c6f5f),_0x201539=_0x47cf07['length'],_0x5c6f5f!==!![]&&(_0x2ffcc2+='='+_0x5c6f5f);}_0x34ec01['cookie']=_0x2ffcc2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x472979,_0xf6dd36){_0x472979=_0x472979||function(_0x5f0408){return _0x5f0408;};const _0x431598=_0x472979(new RegExp('(?:^|;\x20)'+_0xf6dd36['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xd8d81d=function(_0x315dc8,_0x137682){_0x315dc8(++_0x137682);};return _0xd8d81d(_0x31514f,_0x4da65b),_0x431598?decodeURIComponent(_0x431598[0x1]):undefined;}},_0x31bb62=function(){const _0x452eaf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x452eaf['test'](_0x1d94c7['removeCookie']['toString']());};_0x1d94c7['updateCookie']=_0x31bb62;let _0x5a5418='';const _0x1dfb2b=_0x1d94c7['updateCookie']();if(!_0x1dfb2b)_0x1d94c7['setCookie'](['*'],'counter',0x1);else _0x1dfb2b?_0x5a5418=_0x1d94c7['getCookie'](null,'counter'):_0x1d94c7['removeCookie']();};_0x12dc8a();}(a195_0x3151,0xc9));const a195_0x12dc=function(_0x2c685c,_0x4da65b){_0x2c685c=_0x2c685c-0x19e;let _0x31514f=a195_0x3151[_0x2c685c];return _0x31514f;};const a195_0x247dae=a195_0x12dc,a195_0x31bb62=function(){let _0x1dfb2b=!![];return function(_0x47cf07,_0x3f482d){const _0x186144=_0x1dfb2b?function(){if(_0x3f482d){const _0x34ec01=_0x3f482d['apply'](_0x47cf07,arguments);return _0x3f482d=null,_0x34ec01;}}:function(){};return _0x1dfb2b=![],_0x186144;};}(),a195_0x1d94c7=a195_0x31bb62(this,function(){const _0x2ffcc2=function(){const _0x423e72=a195_0x12dc,_0x1f1ba0=_0x2ffcc2[_0x423e72(0x1b6)](_0x423e72(0x1bb))()[_0x423e72(0x1b6)](_0x423e72(0x1a0));return!_0x1f1ba0['test'](a195_0x1d94c7);};return _0x2ffcc2();});a195_0x1d94c7();'use strict';const tesseract_1=require(a195_0x247dae(0x1a6)),ReactionRoleGroup_1=require(a195_0x247dae(0x1c6)),Role_1=require(a195_0x247dae(0x1b1)),emojis=require(a195_0x247dae(0x1b7));module[a195_0x247dae(0x1b9)]=class MessageReactionRemoveListener extends tesseract_1[a195_0x247dae(0x1c4)]{constructor(){const _0x4b8d57=a195_0x247dae;super(_0x4b8d57(0x1c5),{'mode':tesseract_1[_0x4b8d57(0x1c1)]['LISTENER_MODE']['ON']}),this['handleReactionPinning']=async(_0x369ccc,_0x201539)=>{const _0x250d0f=_0x4b8d57;if(!['ðŸ“Œ','ðŸ“'][_0x250d0f(0x1bf)](_0x369ccc['emoji'][_0x250d0f(0x19f)]))return;if(!_0x369ccc[_0x250d0f(0x1a5)][_0x250d0f(0x1a1)]['permissionsFor'](_0x201539)[_0x250d0f(0x1c2)](_0x250d0f(0x1aa)))return;await _0x369ccc[_0x250d0f(0x1a5)][_0x250d0f(0x1b0)]({'reason':'Pin\x20reaction\x20removed\x20by\x20'+_0x201539[_0x250d0f(0x1b3)]?_0x201539[_0x250d0f(0x1b3)][_0x250d0f(0x1ad)]:_0x201539['id']});},this[_0x4b8d57(0x1ae)]=async(_0x2d7e18,_0x5c6f5f)=>{const _0x4bd64e=_0x4b8d57,_0x472979=await ReactionRoleGroup_1[_0x4bd64e(0x1a7)][_0x4bd64e(0x1b2)](_0x2d7e18[_0x4bd64e(0x1a5)]['id']);if(!_0x472979)return;const _0xf6dd36=_0x2d7e18[_0x4bd64e(0x1ac)]['id']?'<'+(_0x2d7e18['emoji'][_0x4bd64e(0x1b5)]?'a':'')+':'+_0x2d7e18[_0x4bd64e(0x1ac)][_0x4bd64e(0x19f)]+':'+_0x2d7e18[_0x4bd64e(0x1ac)]['id']+'>':_0x2d7e18[_0x4bd64e(0x1ac)][_0x4bd64e(0x19f)],_0x431598=emojis[_0x4bd64e(0x1a4)](_0xf6dd36);if(_0x431598){const _0xd8d81d=await Role_1['default'][_0x4bd64e(0x1be)]({'$or':_0x472979[_0x4bd64e(0x1c0)][_0x4bd64e(0x1c3)](_0x5f0408=>({'_id':_0x5f0408})),'guild':_0x2d7e18['message']['guild']['id'],'emoji':_0x431598[_0x4bd64e(0x1ab)]});if(!_0xd8d81d)return;await _0x5c6f5f[_0x4bd64e(0x1c0)][_0x4bd64e(0x1bc)](_0xd8d81d[_0x4bd64e(0x1bd)],_0x4bd64e(0x1a9));}},this[_0x4b8d57(0x1ba)]=async(_0x315dc8,_0x137682)=>{const _0x163f34=_0x4b8d57;_0x315dc8[_0x163f34(0x1a3)]&&(_0x315dc8=await _0x315dc8[_0x163f34(0x1a8)]());_0x315dc8['message'][_0x163f34(0x1a3)]&&(_0x315dc8[_0x163f34(0x1a5)]=await _0x315dc8['message'][_0x163f34(0x1a8)]());if(!_0x315dc8[_0x163f34(0x1a5)][_0x163f34(0x1a2)])return;const _0x452eaf=_0x315dc8['message'][_0x163f34(0x1a2)][_0x163f34(0x1af)](_0x137682);this['handleReactionRoles'](_0x315dc8,_0x452eaf)[_0x163f34(0x1b4)](()=>{});const _0x3d03af=await _0x315dc8[_0x163f34(0x1a5)][_0x163f34(0x1a2)][_0x163f34(0x1b8)]();_0x3d03af['reactionPinning']&&this[_0x163f34(0x19e)](_0x315dc8,_0x452eaf)[_0x163f34(0x1b4)](()=>{});};}};