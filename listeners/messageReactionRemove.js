const a168_0x294f=['has','unpin','apply','channel','value','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','catch','remove','@bastion/tesseract','guild','animated','MANAGE_MESSAGES','getDocument','parseEmoji','default','messageReactionRemove','reactionPinning','findOne','handleReactionPinning','test','includes','roles','member','return\x20/\x22\x20+\x20this\x20+\x20\x22/','emoji','exec','partial','fetch','message','name','Removed\x20via\x20Reaction\x20Roles','constructor','../models/ReactionRoleGroup','exports','handleReactionRoles'];(function(_0xaa68f9,_0x294f2a){const _0x13a9cb=function(_0x29728e){while(--_0x29728e){_0xaa68f9['push'](_0xaa68f9['shift']());}},_0x380dac=function(){const _0x5a462b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4491df,_0x5ed86b,_0x257691,_0x316e0e){_0x316e0e=_0x316e0e||{};let _0x16010e=_0x5ed86b+'='+_0x257691,_0x38ceca=0x0;for(let _0x449f8e=0x0,_0x3160f5=_0x4491df['length'];_0x449f8e<_0x3160f5;_0x449f8e++){const _0x194506=_0x4491df[_0x449f8e];_0x16010e+=';\x20'+_0x194506;const _0x4125a9=_0x4491df[_0x194506];_0x4491df['push'](_0x4125a9),_0x3160f5=_0x4491df['length'],_0x4125a9!==!![]&&(_0x16010e+='='+_0x4125a9);}_0x316e0e['cookie']=_0x16010e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x935cdb,_0x46d9c4){_0x935cdb=_0x935cdb||function(_0x24ebf5){return _0x24ebf5;};const _0x4a93fc=_0x935cdb(new RegExp('(?:^|;\x20)'+_0x46d9c4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5cd5e6=function(_0x576138,_0x8b83a4){_0x576138(++_0x8b83a4);};return _0x5cd5e6(_0x13a9cb,_0x294f2a),_0x4a93fc?decodeURIComponent(_0x4a93fc[0x1]):undefined;}},_0x516997=function(){const _0x586a7e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x586a7e['test'](_0x5a462b['removeCookie']['toString']());};_0x5a462b['updateCookie']=_0x516997;let _0x5d4654='';const _0x312261=_0x5a462b['updateCookie']();if(!_0x312261)_0x5a462b['setCookie'](['*'],'counter',0x1);else _0x312261?_0x5d4654=_0x5a462b['getCookie'](null,'counter'):_0x5a462b['removeCookie']();};_0x380dac();}(a168_0x294f,0x90));const a168_0x13a9=function(_0xaa68f9,_0x294f2a){_0xaa68f9=_0xaa68f9-0x0;let _0x13a9cb=a168_0x294f[_0xaa68f9];return _0x13a9cb;};const a168_0x257691=function(){let _0xcb1659=!![];return function(_0x34a89a,_0x48c851){const _0x3bf30b=_0xcb1659?function(){if(_0x48c851){const _0x4931b1=_0x48c851[a168_0x13a9('0x21')](_0x34a89a,arguments);return _0x48c851=null,_0x4931b1;}}:function(){};return _0xcb1659=![],_0x3bf30b;};}(),a168_0x5ed86b=a168_0x257691(this,function(){const _0x1e3c15=function(){const _0x44ee9d=_0x1e3c15[a168_0x13a9('0x1b')](a168_0x13a9('0x13'))()[a168_0x13a9('0x1b')](a168_0x13a9('0x1'));return!_0x44ee9d[a168_0x13a9('0xf')](a168_0x5ed86b);};return _0x1e3c15();});a168_0x5ed86b();'use strict';const tesseract_1=require(a168_0x13a9('0x4')),ReactionRoleGroup_1=require(a168_0x13a9('0x1c')),Role_1=require('../models/Role'),emojis=require('../utils/emojis');module[a168_0x13a9('0x1d')]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){super(a168_0x13a9('0xb'),{'mode':tesseract_1['Constants']['LISTENER_MODE']['ON']}),this[a168_0x13a9('0xe')]=async(_0x220e38,_0x655206)=>{if(!['ðŸ“Œ','ðŸ“'][a168_0x13a9('0x10')](_0x220e38[a168_0x13a9('0x14')][a168_0x13a9('0x19')]))return;if(!_0x220e38['message'][a168_0x13a9('0x22')]['permissionsFor'](_0x655206)[a168_0x13a9('0x1f')](a168_0x13a9('0x7')))return;await _0x220e38[a168_0x13a9('0x18')][a168_0x13a9('0x20')]();},this[a168_0x13a9('0x1e')]=async(_0x5786b4,_0x142982)=>{const _0x810d0b=await ReactionRoleGroup_1[a168_0x13a9('0xa')]['findById'](_0x5786b4[a168_0x13a9('0x18')]['id']);if(!_0x810d0b)return;const _0x3380a4=_0x5786b4[a168_0x13a9('0x14')]['id']?'<'+(_0x5786b4[a168_0x13a9('0x14')][a168_0x13a9('0x6')]?'a':'')+':'+_0x5786b4[a168_0x13a9('0x14')][a168_0x13a9('0x19')]+':'+_0x5786b4[a168_0x13a9('0x14')]['id']+'>':_0x5786b4[a168_0x13a9('0x14')][a168_0x13a9('0x19')],_0x2f689b=emojis[a168_0x13a9('0x9')](_0x3380a4);if(_0x2f689b){const _0x23eabb=await Role_1[a168_0x13a9('0xa')][a168_0x13a9('0xd')]({'$or':_0x810d0b[a168_0x13a9('0x11')]['map'](_0x290d28=>({'_id':_0x290d28})),'guild':_0x5786b4[a168_0x13a9('0x18')][a168_0x13a9('0x5')]['id'],'emoji':_0x2f689b[a168_0x13a9('0x0')]});if(!_0x23eabb)return;await _0x142982[a168_0x13a9('0x11')][a168_0x13a9('0x3')](_0x23eabb['_id'],a168_0x13a9('0x1a'));}},this[a168_0x13a9('0x15')]=async(_0x4dbbd8,_0x241222)=>{_0x4dbbd8[a168_0x13a9('0x16')]&&(_0x4dbbd8=await _0x4dbbd8['fetch']());_0x4dbbd8['message'][a168_0x13a9('0x16')]&&(_0x4dbbd8[a168_0x13a9('0x18')]=await _0x4dbbd8[a168_0x13a9('0x18')][a168_0x13a9('0x17')]());if(!_0x4dbbd8[a168_0x13a9('0x18')][a168_0x13a9('0x5')])return;const _0x3194bb=_0x4dbbd8[a168_0x13a9('0x18')][a168_0x13a9('0x5')][a168_0x13a9('0x12')](_0x241222);this[a168_0x13a9('0x1e')](_0x4dbbd8,_0x3194bb)[a168_0x13a9('0x2')](()=>{});const _0x2930e0=await _0x4dbbd8['message'][a168_0x13a9('0x5')][a168_0x13a9('0x8')]();_0x2930e0[a168_0x13a9('0xc')]&&this['handleReactionPinning'](_0x4dbbd8,_0x3194bb)[a168_0x13a9('0x2')](()=>{});};}};